<!DOCTYPE html> 
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#" lang="en"> 
 <head> 
  <title>Get the rendered HTML for an AEM resource, component or page - Adobe Experience Manager | AEM/CQ | Apache Sling</title> 
  <link href="http://www.nateyolles.com/blog/2015/10/get-rendered-html-for-an-aem-resource-or-component" rel="canonical" /> 
  <link href="/etc/clientlibs/nateyolles/css/publick-nateyolles.min.css" rel="stylesheet" /> 
  <link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,400,300,600" rel="stylesheet" type="text/css" /> 
  <meta name="msapplication-config" content="/browserconfig.xml" /> 
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png" /> 
  <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png" /> 
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png" /> 
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png" /> 
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png" /> 
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png" /> 
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png" /> 
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png" /> 
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png" /> 
  <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32" /> 
  <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192" /> 
  <link rel="icon" type="image/png" href="/android-chrome-96x96.png" sizes="96x96" /> 
  <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16" /> 
  <link rel="manifest" href="/manifest.json" /> 
  <meta name="description" content="Get the HTML for an AEM resource, component or page" /> 
  <meta name="keywords" content="Adobe Experience Manager,AEM,CQ,aem render html,aem render markup" /> 
  <meta name="author" content="Nate Yolles" /> 
  <meta property="og:title" content="Get the rendered HTML for an AEM resource, component or page - Nate Yolles - Adobe Experience Manager" /> 
  <meta property="og:type" content="article" /> 
  <meta property="article:published_time" content="2015-10-09" /> 
  <meta property="article:modified_time" content="2015-10-09" /> 
  <meta property="article:author" content="Nate Yolles" /> 
  <meta property="article:section" content="Technology" /> 
  <meta property="article:tag" content="Adobe Experience Manager" /> 
  <meta property="article:tag" content="AEM" /> 
  <meta property="article:tag" content="CQ5" /> 
  <meta property="article:tag" content="aem render html" /> 
  <meta property="article:tag" content="aem render markup" /> 
  <meta property="og:url" content="http://www.nateyolles.com/blog/2015/10/get-rendered-html-for-an-aem-resource-or-component" /> 
  <meta property="og:image" content="http://www.nateyolles.com/assets/images/aem-render-component-html.jpg" /> 
  <meta property="og:description" content="Get the HTML for an AEM resource, component or page" /> 
  <meta name="twitter:card" content="summary_large_image" /> 
  <meta name="twitter:site" content="@nateyolles" /> 
  <meta name="twitter:creator" content="@nateyolles" /> 
  <meta name="twitter:title" content="Get the rendered HTML for an AEM resource, component or page - Nate Yolles - Adobe Experience Manager" /> 
  <meta name="twitter:description" content="Get the HTML for an AEM resource, component or page" /> 
  <meta name="twitter:image" content="http://www.nateyolles.com/assets/images/aem-render-component-html.jpg" /> 
  <meta charset="utf-8" /> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1" /> 
 </head> 
 <body data-spy="scroll" data-target="#navigation" data-offset="75"> 
  <section id="navigation"> 
   <div class="navbar navbar-default navbar-static-top sticky" role="navigation"> 
    <div class="container"> 
     <div class="navbar-header"> 
      <form>
       <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> 
       <a class="navbar-brand" href="/">Nate Yolles</a> 
      </form>
     </div> 
     <div class="navbar-collapse collapse"> 
      <ul class="nav navbar-nav navbar-right scrollto"> 
       <li><a href="/#home">Home</a></li> 
       <li><a href="/#about">About</a></li> 
       <li><a href="/#skills">Skills</a></li> 
       <li><a href="/#work">Work</a></li> 
       <li><a href="/#projects">projects</a></li> 
       <li><a href="/#contact">Contact</a></li> 
       <li><a href="/blog">Blog</a></li> 
      </ul> 
     </div> 
    </div> 
   </div> 
  </section> 
  <section id="page-head-bg" style="background-image: url('/assets/images/aem-render-component-html.jpg');" class="parallax" data-stellar-background-ratio=".5"> 
   <div class="container"> 
    <h1><span class="post-heading">Get the rendered HTML for an AEM resource, component or page</span></h1> 
    <h2><span class="post-heading">Adobe Experience Manager | AEM/CQ | Apache Sling</span></h2> 
   </div> 
  </section> 
  <section id="blog-post" class="padding-80"> 
   <div class="container"> 
    <div class="row"> 
     <div class="col-md-9"> 
      <div class="blog-item-sec"> 
       <div class="blog-item-head"> 
        <h3>Get the rendered HTML for an AEM resource, component or page</h3> 
       </div> 
       <div class="blog-item-post-info"> 
        <span class="scrollto">Nate Yolles | October 09, 2015 | <a href="#comments" class="blog-view-comments">1004 comments</a> |</span> 
       </div> 
       <div class="blog-item-post-desc"> 
        <div>
         <span style="line-height: 1.42857;">It's easy to retrieve a rendered component by making a GET request. Apache Sling's SlingMainServlet and <a href="https://sling.apache.org/documentation/bundles/rendering-content-default-get-servlets.html" target="_blank">DefaultGetServlet</a> will process GET requests, take the path's extension into account, and return the rendered resource. The most obvious example of triggering this process is simply typing the component's path into the browser's address bar or making an AJAX call. You can retrieve the HTML markup (or JSON, XML, txt, PDF, etc...) for a component as well as a page if you provide the correct path. After all, they're both just Sling resources.</span>
         <br />
        </div> 
        <div>
         <br />
        </div> 
        <div>
         Trying to get the rendered HTML of a component on the server side is still easy, but requires a little more work. Without knowing the inner workings of Sling, you might use Java's java.net.HttpUrlConnection class to construct and make an HTTP request from within your application to your application.
        </div> 
        <div>
         <br />
        </div> 
        <div>
         The better way is to use the 
         <a href="https://sling.apache.org/apidocs/sling7/org/apache/sling/engine/SlingRequestProcessor.html" target="_blank">SlingRequestProcessor</a> service as the entry point into Sling's process. The processRequest method of the SlingRequestProcessor takes an HttpServletRequest, HttpServletResponse, and Resource Resolver as parameters. The only trick is that you need to provide a request that enables you to set the request path and a response that enables you to get the OutputStream as a String.
        </div> 
        <div>
         <br />
        </div> 
        <div>
         AEM provides the 
         <a href="http://docs.adobe.com/content/docs/en/aem/6-1/ref/javadoc/com/day/cq/contentsync/handler/util/RequestResponseFactory.html" target="_blank">RequestResponseFactory</a> where you can easily get such a request and response.
        </div> 
        <div>
         <br />
        </div> 
        <div>
         <code class="gist" data-gist-id="1dc9f8699fce70916764" data-gist-file="" data-gist-hide-line-numbers="false" data-gist-hide-footer="false" data-gist-show-loading="true" data-gist-show-spinner="false"></code>
         <br />
        </div> 
        <div>
         <br />
        </div> 
        <div>
         You'll need to provide your own mock request and response in Apache Sling. Fortunately, it already exists. You need the 
         <a href="https://github.com/apache/sling/blob/trunk/testing/junit/scriptable/src/main/java/org/apache/sling/junit/scriptable/HttpRequest.java" target="_blank">HttpRequest</a>, 
         <a href="https://github.com/apache/sling/blob/trunk/testing/junit/scriptable/src/main/java/org/apache/sling/junit/scriptable/HttpResponse.java" target="_blank">HttpResponse</a>, and 
         <a href="https://github.com/apache/sling/blob/trunk/testing/junit/scriptable/src/main/java/org/apache/sling/junit/scriptable/TestServletOutputStream.java" target="_blank">TestServletOutputStream</a> classes.
        </div> 
        <div>
         <br />
        </div> 
        <div>
         <code class="gist" data-gist-id="6302cfb1b21c27e59cfe" data-gist-file="" data-gist-hide-line-numbers="false" data-gist-hide-footer="false" data-gist-show-loading="true" data-gist-show-spinner="false"></code>
         <br />
        </div> 
        <div>
         <br />
        </div> 
        <div>
         You will need to include the&nbsp;
         <code>org.apache.sling.engine</code> dependency in your pom file. If your bundle resolves but your component remains unsatisfied, make sure sure you've included the package in the 
         <code>Import-Package</code> section of your 
         <code>maven-bundle-plugin</code>.
        </div> 
       </div> 
       <div class="blog-more-desc"> 
        <div class="row"> 
         <div class="col-sm-6 col-xs-12"> 
          <ul class="list-inline social-colored"> 
           <li class="empty-text">Share:</li> 
           <li><a href="#"><i class="fa logo-l icon-in share" data-toggle="tooltip" title="" data-original-title="LinkedIn" data-placement="top" data-url="http://www.nateyolles.com/blog/2015/10/get-rendered-html-for-an-aem-resource-or-component" data-title="Get the rendered HTML for an AEM resource, component or page" data-summary="Get the HTML for an AEM resource, component or page" data-source="nateyolles.com"></i></a></li> 
           <li><a href="#"><i class="fa logo-t icon-twit share" data-toggle="tooltip" title="" data-original-title="Twitter" data-placement="top" data-text="Get the rendered HTML for an AEM resource, component or page" data-via="nateyolles" data-url="http://www.nateyolles.com/blog/2015/10/get-rendered-html-for-an-aem-resource-or-component"></i></a></li> 
           <li><a href="#"><i class="fa logo-f icon-f share" data-toggle="tooltip" title="" data-original-title="Facebook" data-placement="top"></i></a></li> 
           <li><a href="#"><i class="fa logo-p icon-plus share" data-url="http://www.nateyolles.com/blog/2015/10/get-rendered-html-for-an-aem-resource-or-component" data-toggle="tooltip" title="" data-original-title="Google plus" data-placement="top"></i></a></li> 
          </ul> 
         </div> 
        </div> 
       </div> 
      </div> 
     </div> 
     <div class="col-md-3"> 
      <div class="sidebar-box"> 
       <h4>Follow Me</h4> 
       <ul class="list-inline social-colored"> 
        <li><a href="https://www.linkedin.com/in/nateyolles" target="_blank"><i class="fa logo-l icon-in" data-toggle="tooltip" title="" data-original-title="Linkedin" data-placement="top"></i></a></li> 
        <li><a href="https://twitter.com/nateyolles" target="_blank"><i class="fa logo-t icon-twit" data-toggle="tooltip" title="" data-original-title="Twitter" data-placement="top"></i></a></li> 
        <li><a href="https://github.com/nateyolles" target="_blank"><i class="fa logo-g icon-git" data-toggle="tooltip" title="" data-original-title="GitHub" data-placement="top"></i></a></li> 
        <li><a href="http://stackoverflow.com/users/3022863/nateyolles" target="_blank"><i class="fa logo-so icon-so" data-toggle="tooltip" title="" data-original-title="Stack Overflow" data-placement="top"></i></a></li> 
       </ul> 
      </div> 
      <div class="sidebar-box"> 
       <h4>All Blog Posts</h4> 
       <div class="collapsible-blog-list list-group panel"> 
        <a href="#collapsible-data-list-0" class="year list-group-item collapse-toggle collapsed" data-toggle="collapse"> <i class="fa"></i> 2017 </a> 
        <div class="collapse sub-menu" id="collapsible-data-list-0"> 
         <a href="#collapsible-data-list-0-0" class="month list-group-item collapse-toggle collapsed" data-toggle="collapse" data-parent="#collapsible-data-list-0"> <i class="fa"></i> 05 </a> 
         <div class="collapse sub-menu" id="collapsible-data-list-0-0"> 
          <a class="post list-group-item" title="Sync Crypto Keys across AEM 6.3 instances" href="/blog/2017/05/sharing-crypto-keys-in-aem-63">Sharing Crypto Keys in AEM 6.3</a> 
          <a class="post list-group-item" title="Upgrade to the official OSGi Declarative Services (DS) Annotations from Apache Felix SCR annotations in Adobe Experience Manager (AEM)." href="/blog/2017/05/osgi-declarative-services-annotations-in-aem">Official OSGi Declarative Services Annotations in AEM</a> 
         </div> 
        </div> 
        <a href="#collapsible-data-list-1" class="year list-group-item collapse-toggle collapsed" data-toggle="collapse"> <i class="fa"></i> 2015 </a> 
        <div class="collapse sub-menu" id="collapsible-data-list-1"> 
         <a href="#collapsible-data-list-1-0" class="month list-group-item collapse-toggle collapsed" data-toggle="collapse" data-parent="#collapsible-data-list-1"> <i class="fa"></i> 09 </a> 
         <div class="collapse sub-menu" id="collapsible-data-list-1-0"> 
          <a class="post list-group-item" title="Introducing the Publick Apache Sling + Sightly blog engine." href="/blog/2015/09/publick-apache-sling-sightly-blog-engine">Publick Apache Sling + Sightly blog engine</a> 
         </div> 
         <a href="#collapsible-data-list-1-1" class="month list-group-item collapse-toggle collapsed" data-toggle="collapse" data-parent="#collapsible-data-list-1"> <i class="fa"></i> 10 </a> 
         <div class="collapse sub-menu" id="collapsible-data-list-1-1"> 
          <a class="post list-group-item" title="Programmatically read and update OSGi configurations in Adobe Experience Manager and Apache Sling using the ConfigurationAdmin service." href="/blog/2015/10/updating-osgi-configurations-in-aem-and-sling">Programmatically updating OSGi configurations in AEM and Sling</a> 
          <a class="post list-group-item" title="Get the HTML for an AEM resource, component or page" href="/blog/2015/10/get-rendered-html-for-an-aem-resource-or-component">Get the rendered HTML for an AEM resource, component or page</a> 
         </div> 
         <a href="#collapsible-data-list-1-2" class="month list-group-item collapse-toggle collapsed" data-toggle="collapse" data-parent="#collapsible-data-list-1"> <i class="fa"></i> 11 </a> 
         <div class="collapse sub-menu" id="collapsible-data-list-1-2"> 
          <a class="post list-group-item" title="Proper use of checkboxes in AEM components means creating semantic property types using the Sling Post Servlet." href="/blog/2015/11/aem-checkboxes-using-sling-post-servlet">AEM Checkboxes and Semantic Property Types using the Sling Post Servlet</a> 
         </div> 
         <a href="#collapsible-data-list-1-3" class="month list-group-item collapse-toggle collapsed" data-toggle="collapse" data-parent="#collapsible-data-list-1"> <i class="fa"></i> 12 </a> 
         <div class="collapse sub-menu" id="collapsible-data-list-1-3"> 
          <a class="post list-group-item" title="Convert an AEM Page, Sling Resource, or JCR Node to JSON using the JsonItemWriter." href="/blog/2015/12/converting-aem-sling-resources-to-json">Converting AEM/Sling Resources to JSON</a> 
         </div> 
        </div> 
        <a href="#collapsible-data-list-2" class="year list-group-item collapse-toggle collapsed" data-toggle="collapse"> <i class="fa"></i> 2016 </a> 
        <div class="collapse sub-menu" id="collapsible-data-list-2"> 
         <a href="#collapsible-data-list-2-0" class="month list-group-item collapse-toggle collapsed" data-toggle="collapse" data-parent="#collapsible-data-list-2"> <i class="fa"></i> 01 </a> 
         <div class="collapse sub-menu" id="collapsible-data-list-2-0"> 
          <a class="post list-group-item" title="Create a custom replication agent in Adobe Experience Manager to purge Akamai CDN cache." href="/blog/2016/01/aem-akamai-custom-replication-agent">Creating a custom Akamai replication agent in AEM</a> 
          <a class="post list-group-item" title="Create a custom Granite UI adapter to disable the Multifield component." href="/blog/2016/01/aem-custom-granite-ui-adapter">Create a custom Granite UI adapter to disable the Multifield component</a> 
         </div> 
         <a href="#collapsible-data-list-2-1" class="month list-group-item collapse-toggle collapsed" data-toggle="collapse" data-parent="#collapsible-data-list-2"> <i class="fa"></i> 02 </a> 
         <div class="collapse sub-menu" id="collapsible-data-list-2-1"> 
          <a class="post list-group-item" title="Custom validation in AEM Touch UI dialogs" href="/blog/2016/02/aem-touch-ui-custom-validation">AEM Touch UI Custom Validation</a> 
         </div> 
         <a href="#collapsible-data-list-2-2" class="month list-group-item collapse-toggle collapsed" data-toggle="collapse" data-parent="#collapsible-data-list-2"> <i class="fa"></i> 03 </a> 
         <div class="collapse sub-menu" id="collapsible-data-list-2-2"> 
          <a class="post list-group-item" title="Use com.adobe.granite.confmgr.ConfMgr in AEM to set multi-tenant, ACL protected, inheritance supplied configurations." href="/blog/2016/03/aem-slash-conf-and-confmgr">AEM /conf and ConfMgr</a> 
         </div> 
         <a href="#collapsible-data-list-2-3" class="month list-group-item collapse-toggle collapsed" data-toggle="collapse" data-parent="#collapsible-data-list-2"> <i class="fa"></i> 06 </a> 
         <div class="collapse sub-menu" id="collapsible-data-list-2-3"> 
          <a class="post list-group-item" title="Create custom HTML output for AEM clientlibs and Sightly to take advantage of HTML5 and enhance site performance." href="/blog/2016/06/custom-aem-html5-async-clientlibs">Custom AEM Clientlib Markup for HTML5</a> 
         </div> 
         <a href="#collapsible-data-list-2-4" class="month list-group-item collapse-toggle collapsed" data-toggle="collapse" data-parent="#collapsible-data-list-2"> <i class="fa"></i> 07 </a> 
         <div class="collapse sub-menu" id="collapsible-data-list-2-4"> 
          <a class="post list-group-item" title="Use custom Granite render conditions to determine if Touch UI components should display in AEM." href="/blog/2016/07/aem-granite-custom-render-conditions">AEM Granite Custom Render Conditions</a> 
         </div> 
        </div> 
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </section> 
  <section id="footer" class="padding-80"> 
   <div class="container"> 
    <div class="row"> 
     <div class="col-md-6 col-sm-6 copyright"> 
      <span>&copy; 2016 Nate Yolles</span> 
     </div> 
     <div class="col-md-6 col-sm-6 footer-nav">
       Powered by the 
      <a href="https://github.com/nateyolles/publick-sling-blog" target="_blank">Publick Sling + Sightly Blog Engine</a> 
     </div> 
    </div> 
   </div> 
  </section> 
  <a href="#" class="scrollToTop"><i class="fa fa-angle-up"></i></a> 
  <script src="/etc/clientlibs/nateyolles/js/publick-nateyolles.min.js">
  </script> 
  <script src="https://www.google.com/recaptcha/api.js">
  </script> 
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-19714698-1', 'auto');
  ga('send', 'pageview');

  </script>  
 </body>
</html>